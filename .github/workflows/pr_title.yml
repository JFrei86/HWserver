name: 'PR Title Check'
on:
  pull_request:
    # check when PR
    # * is created,
    # * title is edited, and
    # * new commits are added (to ensure failing title blocks merging)
    types: [ opened, edited, synchronize ]

jobs:
  title-check:
    runs-on: ubuntu-latest
    steps:
      - uses: naveenk1223/action-pr-title@master
        with:
          regex: '^\[(Bugfix|Feature|Refactor|Testing|Documentation|VPAT|UI/UX|Dependency):(Submission|Autograding|Forum|Notifications|TAGrading|InstructorUI|RainbowGrades|System|Developer|API)\] .{2,40}$'
          
          #allowed_prefixes: 'feature,fix,bugfix,patch,enhancement,hotfix' # title should start with the given prefix
          #prefix_case_sensitive: false # title prefix are case insensitive
          #min_length: 10 # Min length of the title
          #max_length: -1 # Max length of the title

          #
          # pull request titles format rules here:
          # https://submitty.org/developer/how_to_contribute#how-to-make-a-pull-request-pr-to-submitty
          #
          # [<TYPE>:<MODULE> ] <SUBJECT>
          #

