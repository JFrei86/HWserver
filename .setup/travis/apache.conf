<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /usr/local/submitty/site/public

    DirectoryIndex index.html index.php index.htm index.cgi

    ScriptAlias "/cgi-bin" "/usr/local/submitty/site/cgi-bin"

    <Files .*>
        Order allow,deny
        Deny from all
    </Files>

    <Files *~>
        Order allow,deny
        Deny from all
    </Files>

    <Files #*>
        Order allow,deny
        Deny from all
    </Files>

    <Directory />
        AllowOverride None
    </Directory>

    <Directory /usr/local/submitty/site/public>
        Require all granted
        Order allow,deny
        Allow from all
    </Directory>

    <Directory "/usr/local/submitty/site/cgi-bin">
        Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
        AddHandler cgi-script .cgi
        Order allow,deny
        Allow from all
    </Directory>

    <IfModule mod_fastcgi.c>
        AddHandler php5-fcgi .php
        Action php5-fcgi /php5-fcgi
        Alias /php5-fcgi /usr/lib/cgi-bin/php5-fcgi
        FastCgiExternalServer /usr/lib/cgi-bin/php5-fcgi -host 127.0.0.1:9000 -pass-header Authorization
        <Directory /usr/lib/cgi-bin>
            Require all granted
        </Directory>
  </IfModule>

    ErrorLog ${APACHE_LOG_DIR}/submitty-error.log
    CustomLog ${APACHE_LOG_DIR}/submitty.log combined
</VirtualHost>
